var data=localStorage.getItem("todoList")?JSON.parse(localStorage.getItem("todoList")):{todo:[],completed:[]};function addItem(e){addItemToDOM(e),document.getElementById("item").value="",data.todo.push(e),dataObjectUpdated()}function renderTodoList(){if(data.todo.length||data.completed.length){for(var e=0;e<data.todo.length;e++){addItemToDOM(data.todo[e])}for(var t=0;t<data.completed.length;t++){addItemToDOM(data.completed[t],!0)}}}function dataObjectUpdated(){localStorage.setItem("todoList",JSON.stringify(data))}function removeItem(){var e=this.parentNode.parentNode,t=e.parentNode,d=t.id,a=this.parentNode.parentNode.childNodes[0].innerText;"todo"===d?data.todo.splice(data.todo.indexOf(a),1):data.completed.splice(data.completed.indexOf(a),1),dataObjectUpdated(),t.removeChild(e)}function completeItem(){var e=this.parentNode.parentNode,t=e.parentNode,d=t.id,a=this.parentNode.parentNode.childNodes[0].innerText;"todo"===d?(data.todo.splice(data.todo.indexOf(a),1),data.completed.push(a)):(data.completed.splice(data.completed.indexOf(a),1),data.todo.push(a)),dataObjectUpdated(),this.style.display="none";var o="todo"===d?document.getElementById("completed"):document.getElementById("todo");t.removeChild(e),o.insertBefore(e,o.childNodes[0])}function addItemToDOM(e,t){var d=t?document.getElementById("completed"):document.getElementById("todo"),a=document.createElement("div");a.classList.add("todo");var o=document.createElement("div");o.classList.add("todo-right");var n=document.createElement("div");n.classList.add("todo-left");var i=document.createElement("h3");i.innerText=e;var c=document.createElement("button");c.classList.add("btn"),c.classList.add("delete"),c.innerHTML='<i class="far fa-trash" aria-hidden="true"></i>';var l=document.createElement("button");l.classList.add("btn"),l.classList.add("edit"),l.innerHTML='<i class="far fa-check-square" aria-hidden="true"></i>',c.addEventListener("click",removeItem),l.addEventListener("click",completeItem),a.appendChild(o),o.appendChild(i),o.after(n),n.appendChild(l),n.appendChild(c),d.insertBefore(a,d.childNodes[0])}renderTodoList(),document.getElementById("add").addEventListener("click",function(){var e=document.getElementById("item").value;e&&addItem(e)}),document.getElementById("item").addEventListener("keydown",function(e){var t=this.value;"Enter"!==e.code&&"NumpadEnter"!==e.code||!t||addItem(t)});
